<!-- C√ìDIGO COMPLETO - ZENKAI ADVENTURE -->
<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zenkai Adventure</title>
  <style>
    body {
      background-color: #2e2638;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 30px;
    }
    h1 {
      color: #ffbb00;
      font-size: 36px;
    }
    select, button {
      padding: 10px;
      margin: 10px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
    }
    select {
      background-color: #4a3f5f;
      color: white;
    }
    button {
      background-color: #ff6600;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #cc5200;
    }
    .section {
      margin-top: 30px;
      border: 2px solid #ffbb00;
      border-radius: 12px;
      padding: 20px;
      background-color: #3a3149;
    }
    .grid {
      display: grid;
      gap: 10px;
      justify-content: center;
      margin: 10px 0;
    }
    .grid.classico {
      grid-template-columns: repeat(2, 100px);
    }
    .grid.liga {
      grid-template-columns: repeat(4, 100px);
    }
    .cell {
      border: 2px solid #ffbb00;
      border-radius: 8px;
      height: 100px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background-color: #5a4e6b;
      font-size: 18px;
    }
    .vilao-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      justify-content: center;
      margin-top: 10px;
    }
    .zenkai-grid {
      display: grid;
      gap: 10px;
      justify-content: center;
    }
    .zenkai-item {
      margin: 0;
      padding: 8px 12px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>‚ö° Zenkai Adventure ‚ö°</h1>

  <label for="modo">Modo de jogo:</label>
  <select id="modo" onchange="atualizarInterface()">
    <option value="classico">Cl√°ssico</option>
    <option value="liga">Liga Zenkai</option>
  </select>

  <div id="selecao-jogadores"></div>
  <div id="resultado"></div>

  <script>
    const direcoes = ['‚¨ÜÔ∏è Norte', '‚¨ÖÔ∏è Oeste', '‚¨áÔ∏è Sul', '‚û°Ô∏è Leste'];
    const habitats = {
      "Glacial": ["Kimeow", "Digarp", "Haati"],
      "Urbano": ["Lunna", "Pitixa", "Marleon"],
      "Aqu√°tico": ["Luppy", "Allipop", "Flashin", "Zigafe"],
      "Campina": ["Pankidy", "Mohra", "Ironpup", "Pigroot", "Burrny"],
      "Floresta": ["Oikid", "Piri-piri", "Gamboop", "Guatat√°", "Oranboo", "Plumixie"],
      "Montanha": ["Coldeep", "Roclimb", "Rokkar", "Rabblaze", "Fluffy"]
    };
    const habitatColors = {
      "Glacial": "#19b1b1", "Urbano": "#909090", "Aqu√°tico": "#1d09ea",
      "Campina": "#0fa619", "Floresta": "#016805", "Montanha": "#cf510d"
    };

    function atualizarInterface() {
      const modo = document.getElementById('modo').value;
      const container = document.getElementById('selecao-jogadores');
      container.innerHTML = '';

      const label = document.createElement('label');
      label.textContent = 'N√∫mero de jogadores:';
      const select = document.createElement('select');
      select.id = 'players';

      const opcoes = modo === 'liga' ? ['4', '8'] : ['1','2','3','4','5','6'];
      opcoes.forEach(n => {
        const option = document.createElement('option');
        option.value = n;
        option.textContent = n;
        select.appendChild(option);
      });

      const button = document.createElement('button');
      button.textContent = 'Monte uma partida!';
      button.onclick = gerarPartida;

      container.appendChild(label);
      container.appendChild(select);
      container.appendChild(document.createElement('br'));
      container.appendChild(button);
    }

    function gerarPartida() {
      const modo = document.getElementById('modo').value;
      const numJogadores = parseInt(document.getElementById('players').value);
      const resultadoDiv = document.getElementById('resultado');
      resultadoDiv.innerHTML = '';

      if (modo === 'classico') {
        const objetivos = sortearObjetivos(numJogadores);
        const objetivosDiv = document.createElement('div');
        objetivosDiv.className = 'section';
        objetivosDiv.innerHTML = `<h2>üéØ Objetivos</h2><p>${formatarObjetivos(objetivos)}</p>`;
        resultadoDiv.appendChild(objetivosDiv);
      }

      const mapa = gerarMapa(modo);
      const mapaDiv = document.createElement('div');
      mapaDiv.className = 'section';
      mapaDiv.innerHTML = `<h2>üó∫Ô∏è Mapa</h2>`;
      const grid = document.createElement('div');
      grid.className = `grid ${modo}`;

      mapa.forEach(cel => {
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.style.backgroundColor = cel.cor === 'Roxo' ? '#9455fe' : '#f68d2e';
        cell.innerHTML = `<strong>${cel.letra}</strong><br>${cel.tipo} ${cel.numero}`;
        grid.appendChild(cell);
      });

      mapaDiv.appendChild(grid);
      resultadoDiv.appendChild(mapaDiv);

      const viloes = sortearViloes();
      const viloesDiv = document.createElement('div');
      viloesDiv.className = 'section';
      viloesDiv.innerHTML = `<h2>ü¶π Vil√µes</h2>`;
      const container = document.createElement('div');
      container.className = 'vilao-grid';
      viloes.forEach(v => {
        const div = document.createElement('div');
        div.className = 'zenkai-item';
        div.style.backgroundColor = '#333';
        div.innerHTML = `${v.genero}<br>${v.cor}<br>üìç${v.letra}${v.numero} ${v.direcao}`;
        container.appendChild(div);
      });
      viloesDiv.appendChild(container);
      resultadoDiv.appendChild(viloesDiv);

      const zenkais = sortearZenkai(numJogadores);
      const zenkaiDiv = document.createElement('div');
      zenkaiDiv.className = 'section';
      zenkaiDiv.innerHTML = `<h2>üê¶‚Äçüî• Zenkais Iniciais</h2>`;
      const zenkaiGrid = document.createElement('div');
      zenkaiGrid.className = 'zenkai-grid';
      zenkaiGrid.style.gridTemplateColumns = `repeat(${Math.min(numJogadores, 3)}, 1fr)`;
      zenkais.forEach((z, i) => {
        const item = document.createElement('div');
        item.className = 'zenkai-item';
        item.style.backgroundColor = habitatColors[z.habitat];
        item.innerHTML = `P${i + 1}:<br>${z.emoji}<br>${z.nome}`;
        zenkaiGrid.appendChild(item);
      });
      zenkaiDiv.appendChild(zenkaiGrid);
      resultadoDiv.appendChild(zenkaiDiv);
    }

    function sortearObjetivos(n) {
      const total = n === 1 ? 3 : n + 1;
      let v = 1, a = 1, r = 1;
      while (v + a + r < total) {
        const s = Math.floor(Math.random() * 3);
        if (s === 0) v++;
        if (s === 1) a++;
        if (s === 2) r++;
      }
      return { vermelho: v, azul: a, roxo: r };
    }

    function formatarObjetivos(obj) {
      return `${obj.vermelho} üî¥, ${obj.azul} üîµ, ${obj.roxo} üü£`;
    }

    function gerarMapa(modo) {
      const letras = shuffle(['A', 'B', 'C', 'D']);
      const cores = Math.random() < 0.5 ? ['Roxo', 'Laranja'] : ['Laranja', 'Roxo'];
      const mapa = letras.map((letra, i) => {
        const tipo = (modo === 'liga' && (i === 1 || i === 2)) ? '‚ùÑÔ∏è' : 'üêæ';
        return {
          letra,
          cor: cores[i % 2],
          tipo,
          numero: Math.floor(Math.random() * 8) + 1
        };
      });
      return mapa;
    }

    function sortearViloes() {
      const combinacoes = [
        { homem: 'üîµ Azul', mulher: 'üü° Amarelo' },
        { homem: 'üî¥ Vermelho', mulher: 'üü£ Roxo' },
        { homem: 'üü† Laranja', mulher: 'üü§ Marrom' },
        { homem: 'üü¢ Oliva', mulher: 'üü¢ Verde' }
      ];
      const sorteadas = shuffle(combinacoes).slice(0, 2);
      return sorteadas.map(par => {
        const usarHomem = Math.random() < 0.5;
        return {
          genero: usarHomem ? 'üë®üèΩ Homem' : 'üë©üèº Mulher',
          cor: usarHomem ? par.homem : par.mulher,
          letra: ['A', 'B', 'C', 'D'][Math.floor(Math.random() * 4)],
          numero: Math.floor(Math.random() * 8) + 1,
          direcao: direcoes[Math.floor(Math.random() * 4)]
        };
      });
    }

    function sortearZenkai(n) {
      const todos = [];
      for (const [habitat, criaturas] of Object.entries(habitats)) {
        criaturas.forEach(c => todos.push({ nome: c, habitat, emoji: getEmojiHabitat(habitat) }));
      }
      return shuffle(todos).slice(0, n);
    }

    function getEmojiHabitat(h) {
      return {
        'Glacial': '‚ùÑÔ∏è', 'Urbano': 'üè¢', 'Aqu√°tico': 'üåä',
        'Campina': 'üå±', 'Floresta': 'üå≤', 'Montanha': 'üèîÔ∏è'
      }[h] || '';
    }

    function shuffle(array) {
      const a = array.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    atualizarInterface();
  </script>
</body>
</html>
