<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Oikos</title>
  <style>
    body {
      background-color: #014421; /* Forest green */
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 30px;
    }

    h1 {
      color: #ffeb3b;
      font-size: 36px;
      margin-bottom: 10px;
    }

    label {
      font-size: 18px;
    }

    select {
      padding: 8px 14px;
      font-size: 16px;
      margin-top: 8px;
      border-radius: 8px;
      border: none;
      background-color: #033d1e;
      color: #ffeb3b;
    }

    button {
      padding: 10px 18px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 5px;
    }

    .generate {
      background-color: #ffeb3b;
      color: #014421;
    }

    .generate:hover {
      background-color: #fdd835;
    }

    .results {
      margin-top: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .player-block {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 16px;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .player-block strong {
      font-size: 18px;
      display: block;
      margin-bottom: 8px;
    }

    .animal-name {
      font-size: 18px;
      font-weight: bold;
      margin-top: 8px;
    }

    .animal-info {
      font-size: 14px;
      margin-top: 3px;
    }
  </style>
</head>

<body>
  <h1>üêØ Oikos üêØ</h1>

  <label for="players">N√∫mero de jogadores:</label><br>
  <select id="players">
    <option value="2">2 jogadores</option>
    <option value="3">3 jogadores</option>
    <option value="4">4 jogadores</option>
    <option value="5">5 jogadores</option>
    <option value="6">6 jogadores</option>
  </select>

  <button class="generate" onclick="generateMatch()">Gerar Partida!</button>

  <div class="results" id="results"></div>

  <script>
    const animals = [
      { num: 1, name: "üêØ On√ßa-Pintada", type: "Predador" },
      { num: 3, name: "üê∫ Lobo-Guar√°", type: "Meio" },
      { num: 4, name: "ü¶î Tatu-Bola", type: "Meio" },
      { num: 6, name: "üê¶‚Äç‚¨õ Arara-Azul", type: "Meio" },
      { num: 7, name: "üêí Macaco-Prego", type: "Base" },
      { num: 8, name: "ü¶ù Quati", type: "Base" },
      { num: 1, name: "üê¶‚Äçüî• Harpia", type: "Predador" },
      { num: 4, name: "ü¶© Colhereiro", type: "Meio" },
      { num: 5, name: "ü¶§ Tucano", type: "Meio" },
      { num: 7, name: "ü¶ú Papagaio-Char√£o", type: "Base" },
      { num: 8, name: "üê¶ Quero-Quero", type: "Base" },
      { num: 9, name: "üê§ Can√°rio-da-Terra", type: "Base" },
      { num: 2, name: "üêä Jacar√©", type: "Predador" },
      { num: 3, name: "üêç Sucuri", type: "Meio" },
      { num: 4, name: "üê¢ Jabuti", type: "Meio" },
      { num: 5, name: "ü™± Coral", type: "Meio" },
      { num: 7, name: "ü¶ï Iguana-Verde", type: "Meio" },
      { num: 9, name: "ü¶é Calango-do-Sert√£o", type: "Base" },
      { num: 2, name: "üêó Javali", type: "Predador" },
      { num: 3, name: "ü¶ä Jaguatirica", type: "Meio" },
      { num: 4, name: "ü¶° Tamandu√°-Bandeira", type: "Meio" },
      { num: 5, name: "ü¶ç Bugio-Preto", type: "Meio" },
      { num: 6, name: "ü¶¶ Ariranha", type: "Meio" },
      { num: 9, name: "üêÄ Camundongo", type: "Base" },
      { num: 2, name: "ü¶Ö Osprey", type: "Predador" },
      { num: 3, name: "ü¶â Suindara", type: "Meio" },
      { num: 5, name: "ü¶´ Capivara", type: "Meio" },
      { num: 6, name: "ü¶ß Mico-Le√£o-Dourado", type: "Meio" },
      { num: 8, name: "ü¶• Pregui√ßa", type: "Meio" },
      { num: 9, name: "üê∏ Sapo-Boi-Azul", type: "Base" }
    ];

    function shuffleArray(arr) {
      return arr.slice().sort(() => 0.5 - Math.random());
    }

    function generateMatch() {
      const playerCount = parseInt(document.getElementById("players").value);
      const totalAnimals = playerCount <= 3 ? playerCount * 2 : playerCount;

      let valid = false;
      let selected = [];

      while (!valid) {
        const shuffled = shuffleArray(animals);
        selected = [];
        const usedNums = new Set();
        for (const animal of shuffled) {
          if (!usedNums.has(animal.num)) {
            selected.push(animal);
            usedNums.add(animal.num);
          }
          if (selected.length === totalAnimals) break;
        }

        const predadorCount = selected.filter(a => a.type === "Predador").length;
        const baseCount = selected.filter(a => a.type === "Base").length;

        valid = predadorCount === 1 && baseCount >= 1 && baseCount <= 2;
      }

      const assignments = [];
      if (playerCount <= 3) {
        for (let i = 0; i < playerCount; i++) {
          const main = selected[i * 2];
          const support = selected[i * 2 + 1];
          assignments.push({ main, support });
        }
      } else {
        selected.forEach(a => assignments.push({ main: a }));
      }

      const resultDiv = document.getElementById("results");
      resultDiv.innerHTML = "";

      assignments.forEach((assignment, i) => {
        const block = document.createElement("div");
        block.className = "player-block";

        block.innerHTML = `
          <strong>Jogador ${i + 1}</strong>
          <div class="animal-name">
            ${playerCount <= 3 ? "Esp√©cie principal: " : ""}${assignment.main.name}
          </div>
          <div class="animal-info">
            N√∫mero: ${assignment.main.num} | Tipo: ${assignment.main.type}
          </div>
        `;

        if (assignment.support) {
          block.innerHTML += `
            <div class="animal-name">Esp√©cie suporte: ${assignment.support.name}</div>
            <div class="animal-info">
              N√∫mero: ${assignment.support.num} | Tipo: ${assignment.support.type}
            </div>
          `;
        }

        resultDiv.appendChild(block);
      });
    }

    function resetResults() {
      document.getElementById("results").innerHTML = "";
    }
  </script>
</body>
</html>
